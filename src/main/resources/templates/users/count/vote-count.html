<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<form th:action="@{/users/save}" method="post">

  <table class="table">
    <tr>
      <td><input type="hidden" th:value="${detailVote.voteId}" name="voteId"></td>
    </tr>
    <tr>
      <td th:text="투표명"></td>
      <td th:text="${detailVote.voteTitle}"></td>
    </tr>
    <tr>
      <td th:text="후보자명"></td>
      <td th:text="${detailVote.candidateName}"></td>
    </tr>
    <tr>
      <td th:text="후보자정보"></td>
      <td th:text="${detailVote.candidateInfo}"></td>
      <!--  </tr>-->
      <!--  <td><button onclick="countVote(true, ${detailVote.voteId})">찬성</button></td>-->
      <!--  <td><button onclick="countVote(false, ${detailVote.voteId})">반대</button></td>-->
      <!--  </tr>-->
  </table>
  <input type="hidden" id="hadVoted" name="hadVoted" value="true">
  <input type="checkbox" id="isAgreed" name="isAgreed" value="true">
  <label for="isAgreed">찬성</label>
  <input type="checkbox" id="isDisagreed" name="isAgreed" value="false">
  <label for="isDisagreed">반대</label>
  <button type="submit">투표</button>
</form>
<!--<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->
<!--<script>-->
<!--  function countVote(isAgreed, voteId) {-->
<!--    $.ajax({-->
<!--      url: '/users/save',-->
<!--      method: 'POST',-->
<!--      contentType: 'application/json',-->
<!--      data: JSON.stringify({ isAgreed: isAgreed, vote: { voteId: voteId } }),-->
<!--      success: function() {-->
<!--        console.log('저장 성공');-->
<!--      },-->
<!--      error: function() {-->
<!--        console.error('저장 실패');-->
<!--      }-->
<!--    });-->
<!--  }-->
<!--</script>-->
</body>
</html>